<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    
    <link rel="stylesheet" href="lib/jquery-ui-1.11.3/jquery-ui.min.css">
    <link rel="stylesheet" href="lib/bootstrap-3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="lib/font-awesome-4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="lib/datatables-1.10.9/media/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="lib/paper.bootstrap.min.css">
    
    <link rel="stylesheet" href="css/avatar.css"/>
    
    <script src="lib/jquery-ui-1.11.3/external/jquery/jquery.js"></script>
    <script src="lib/jquery-ui-1.11.3/jquery-ui.min.js"></script>
    <script src="lib/jquery.cookie.js"></script>
    <script src="lib/bootstrap-3.3.5/js/bootstrap.min.js"></script>
    <script src="lib/bootstrap3-typeahead.min.js"></script>
    <script src="lib/datatables-1.10.9/media/js/jquery.dataTables.min.js"></script>
    <script src="lib/cryptojs-3.1.2/rollups/md5.js"></script>
    <script src="lib/bootbox.min.js"></script>
    <script src="lib/moment.js"></script>
    
    <script src="js/common.js"></script>
    <script src="js/conf.js"></script>
    <script src="js/auth.js"></script>
    <title>The Avatar System: Trajectory Management</title>
    <link rel="stylesheet" href="lib/ion.rangeslider-2.0.13/css/ion.rangeSlider.css"/>
    <link rel="stylesheet" href="lib/ion.rangeslider-2.0.13/css/ion.rangeSlider.skinFlat.css"/>
    <script type="text/javascript" src="lib/ion.rangeslider-2.0.13/js/ion-rangeSlider/ion.rangeSlider.min.js"></script>
    <script src="lib/jquery-file-upload-9.10.4/js/vendor/jquery.ui.widget.js"></script>
    <script src="lib/jquery-file-upload-9.10.4/js/jquery.iframe-transport.js"></script>
    <script src="lib/jquery-file-upload-9.10.4/js/jquery.fileupload.js"></script>
    <script src="js/trajectory.js" type="text/javascript"></script>
</head>
<body>
<legend class="text-success">
    <img class="logo" src="img/logo.png"/>
    <span>Trajectory Management</span>
    <span class="version">0.3.2</span>
</legend>
<div class="tabbable">
    <ul class="nav nav-pills nav-stacked col-md-2">
        <li class="active"><a href="#traj-management" data-toggle="tab">Trajectory Management</a></li>
        <li><a href="#data-management" data-toggle="tab">Data Management</a></li>
    </ul>
    <div class="tab-content col-md-10">
        <div class="tab-pane active" id="traj-management">
            <div class="form-inline">
                <select id="search-city" class="form-control input-sm pull-right"></select>
                <button class="btn btn-primary btn-xs" type="button" onclick="generate_traj();"><i class="fa fa-magic"></i> Generate Synthetic Trajectories</button>
                <button class="btn btn-danger btn-xs" type="button" onclick="clear_db();"><i class="fa fa-trash-o"></i> Delete All Trajectories</button>
            </div>
            <hr/>
            <table id="traj-list-container" class="display" cellspacing="0" width="100%">
                <thead>
                <tr>
                    <th>Trajectory ID</th>
                    <th>Map-Matching</th>
                    <th>Truncate</th>
                    <th>Management</th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div class="tab-pane" id="data-management">
            <div>
                <button class="btn btn-primary btn-xs" type="button" onclick="$('#file_upload').click();"><i class="fa fa-upload"></i> Upload New Trajectory Data</button>
                <input id="file_upload" class="hidden" type="file" name="files[]" data-url="./api/avatar/traj/upload/" multiple/>
                <span class="bold" style="margin-left:10px;">CSV Format, Required Headers:</span> <code>id</code>, <code>taxi</code>, <code>lat</code>, <code>lng</code>, <code title="yyyy-mm-dd hh:mm:ss">t</code>, <code>speed</code>, <code>angle</code>, <code>occupy</code>
            </div>
            <div class="progress" style="display:none;margin-top:20px;">
                <div class="progress-bar" style="width:0;"></div>
            </div>
            <hr/>
            <table id="traj-table" class="display" cellspacing="0" width="100%">
                <thead>
                <tr>
                    <th>File Name</th>
                    <th>Upload Time</th>
                    <th>Size</th>
                    <th>Management</th>
                </tr>
                </thead>
                <tbody>
                    
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>